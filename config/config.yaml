# Meme Radar Configuration
# ==========================

# Database
database:
  # SQLite for v1, designed to migrate to PostgreSQL later
  url: "sqlite:///meme_radar.db"

# Scheduler
scheduler:
  # Interval in minutes between collection runs
  interval_minutes: 30
  # Timezone for scheduling
  timezone: "UTC"

# Telegram Notifications
# To set up:
# 1. Message @BotFather on Telegram, send /newbot
# 2. Copy the API token you receive
# 3. Start a chat with your bot and send any message
# 4. Visit: https://api.telegram.org/bot<YOUR_TOKEN>/getUpdates
# 5. Copy your chat_id from the response
telegram:
  enabled: true  # Set to true after adding token and chat_id
  bot_token: "8351437975:AAHvH5ZzDmb7NUMbHuN2qDCQSkyJca6wqNY"   # Paste your bot token here
  chat_id: "6968504950"     # Paste your chat ID here

# Analysis Settings
analysis:
  # Time window in minutes for bucketing data
  time_window_minutes: 30
  # Number of historical windows to keep for baseline calculation
  history_windows: 6
  # Minimum posts/comments for a term to be considered
  min_frequency: 5
  # Z-score threshold for anomaly detection
  z_score_threshold: 2.0
  # Acceleration ratio threshold
  acceleration_threshold: 1.5
  # Minimum engagement score
  min_engagement: 5

# Platform: Twitter/X
# NOTE: Twitter/X actively blocks scraping. Twikit login currently broken (404 error).
twitter:
  enabled: false
  # Login credentials (for Twikit - use burner account if possible)
  username: "Barrage_Ninja"  # Your Twitter/X username
  password: "amromousa2022003"  # Your Twitter/X password
  # Search queries to monitor
  queries:
    - "meme"
    - "viral"
  # Minimum likes for a tweet to be collected
  min_likes: 50
  # Minimum retweets
  min_retweets: 10
  # Maximum tweets per query per run
  max_tweets_per_query: 100

# Platform: TikTok
# TikTok Configuration
# 
# SETUP: Export your TikTok cookies to tiktok_cookies.json in project root
# 1. Install "EditThisCookie" browser extension
# 2. Go to TikTok.com and log in
# 3. Click the cookie icon > Export > Save as tiktok_cookies.json
#
tiktok:
  enabled: true
  # Fallback ms_token (used if cookies file not found)
  ms_token: "pAvoM4_c0KMj4hKZnI54zBlFv9omNyfqKb3KIWDwebgECtqUUaS86579AsikXOLyR6mcr70gjqMvAB9DhOoclRcez59mdZl4D_PCOaro3IrAK5EDq6UzMs4I4bEq9O0Qk0xUT6OQLSv7IQ=="
  # TikTok users to monitor (medium-sized accounts that catch trends early)
  users:
    - "memegodfilms"         # Fast trend adoption
    - "_caileng"             # Fast trend adoption
    - "dailydoseofinternet.yt"
    - "pubity"               # Mass aggregator. Use as a "Mainstream/Saturation" indicator.
    - "daquan"               # Bridge between Black Twitter humor and TikTok.
    - "news_eye"             # Rapid reporting on internet drama/memes.
    - "mashable"             # Tech/Culture news validation.
    - "knowyourmeme"         # Verification. Confirms "Established" status and history.
    - "thesun"               # 
    - "noxaasht"             #
    - "rap"                  # 
    - "watcherguru"          # 
  # Hashtags to monitor for memecoin potential
  hashtags:
    # - "brainrot"
    # - "meme"
    # - "viral"
    # - "trending"
    # - "comedy"
    # - "funny"
  # Max posts per user/hashtag
  max_posts_per_source: 20
  # Filter out videos older than this (days) - helps skip pinned/old viral videos
  max_video_age_days: 7

# Platform: Instagram
instagram:
  enabled: false
  # Login credentials (creates a session file)
  username: "nur_.alqalb"  # your_instagram_username
  password: "Boomboom1234"  # your_instagram_password
  # Hashtags to monitor (NOTE: Instagram blocks hashtag scraping even with login)
  hashtags: []
  # Accounts to monitor (medium-sized pages that catch trends early)
  accounts:
    - "memezar"              # 200k+ followers, fast trend adoption
    - "sarcasm_only"         # Relatable humor, 500k followers
    - "thefunnyintrovert"    # Niche humor, trend-aware
    - "memesmerized"         # Curated viral content
    - "humor_me_pink"        # Medium-sized, active community
  # Maximum posts per account per run (keep low to avoid rate limits)
  max_posts_per_hashtag: 10
  # Delay between requests (seconds) to avoid rate limiting
  request_delay: 5

# Platform: Reddit
reddit:
  enabled: false
  # API credentials (set via environment variables for security)
  # client_id: ${REDDIT_CLIENT_ID}
  # client_secret: ${REDDIT_CLIENT_SECRET}
  # user_agent: "MemeRadar/1.0"
  client_id: ""
  client_secret: ""
  user_agent: "MemeRadar/1.0 by u/your_username"
  # Subreddits to monitor
  subreddits:
    - "memes"
    - "dankmemes"
    - "wholesomememes"
    - "AdviceAnimals"
    - "MemeEconomy"
    - "copypasta"
  # Maximum posts per subreddit per run
  max_posts_per_subreddit: 50
  # Number of top comments to fetch per post
  comments_per_post: 10

# Noise Filtering
noise:
  # Generic stop phrases to ignore
  stop_phrases:
    - "lol"
    - "lmao"
    - "omg"
    - "this is so funny"
    - "dead"
    - "im dead"
    - "link in bio"
    - "subscribe"
    - "follow me"
    - "check out"
    - "discount code"
    - "the link"
    - "the full"
    - "full video"
    - "click link"
    - "see link"
  # Evergreen hashtags to filter (unless extreme spike)
  evergreen_hashtags:
    - "love"
    - "happy"
    - "fashion"
    - "beautiful"
    - "photography"
    - "art"
    - "food"
    - "travel"
    # TikTok generic tags
    - "fyp"
    - "foryou"
    - "foryoupage"
    - "viral"
    - "trending"
    - "funny"
    - "comedy"
    - "meme"
    - "memes"
    - "explore"
    - "duet"
    - "stitch"
    - "pov"
    - "relatable"
    - "xyzbca"
    - "tiktok"
    - "viralvideo"
    # Account names we scrape (NOT trends!)
    - "pubity"
    - "daquan"
    - "mashable"
    - "dailydot"
    - "knowyourmeme"
    - "cocomocoe"
    - "joolieannie"
    - "memegodfilms"
    - "thealgorythm"
    - "noxaasht"
    - "dailydoseofinternet"
    # Branded hashtags from accounts
    - "roadto19m"
    - "roadto20m"
    - "pubityfinds"
  # Minimum comment engagement to not be considered spam
  min_comment_engagement: 1
  # Minimum unique users to consider a term a real trend (not one account spamming)
  min_unique_users: 2

# Notifications
notifications:
  enabled: true
  
  # Sound settings
  sound: true  # Play Windows notification sound
  
  # Trigger thresholds (only notify for high-value trends)
  min_acceleration: 5.0  # Minimum 5x spike
  min_zscore: 10.0  # Statistical significance
  min_frequency: 10  # Minimum posts to notify
  
  # Spam prevention
  cooldown_minutes: 60  # Don't re-notify same trend within 1 hour
  
  # Never notify for these terms
  exclude_terms:
    - "test"
    - "example"

# Lowkey Creator Detection
# Detect small/mid-size creators with viral outlier videos
lowkey_detection:
  enabled: true
  
  # Creator selection thresholds
  min_followers: 5000
  max_followers: 1000000
  min_views: 250000
  min_likes: 100000  # Primary metric since TikTok API doesn't return views
  
  # Metric thresholds (all must be met)
  min_virality_ratio: 10.0      # views / followers
  min_engagement_rate: 0.08     # (likes+comments+shares) / views
  min_comment_intensity: 0.02   # comments / views
  min_spike_factor: 3.0         # views / avg_views
  
  # Rolling stats window
  history_video_count: 10
  
  # Watchlist settings
  watchlist_drop_days: 30
  
  # Comment analysis
  comments_per_video: 50
  
  # Processing limits (per run)
  max_creators_per_run: 100
  max_videos_per_run: 500
  
  # Analysis window
  analysis_window_hours: 48
  
  # Meme-seed score weights (should sum to 1.0)
  score_weights:
    virality_ratio: 0.25
    engagement_rate: 0.20
    comment_intensity: 0.20
    spike_factor: 0.20
    repeated_phrases: 0.15
